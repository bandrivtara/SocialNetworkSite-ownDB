{"version":3,"sources":["components/Home/PhotosBar/PhotosBar.module.css","API/API-JSON.js","components/Profile/ProfileInfo/UserInfo/ProfileStatus/ProfileStatus.module.css","assets/images/plus.png","assets/images/noUser.png","assets/images/preloader.svg","components/Dialogs/Dialogs.module.css","components/Nav/Nav.module.css","redux/PhotosReducer.js","redux/DialogReducer.js","redux/ProfileReducer.js","API/API.js","redux/NavReducer.js","redux/AuthReducer.js","redux/HomeReducer.js","redux/AppReducer.js","redux/redux-store.js","utilities/validators/validators.js","components/Nav/Nav.jsx","components/Home/PhotosBar/PhotosBar.jsx","components/Home/PhotosBar/PhotosBarContainer.jsx","components/Profile/MyPosts/Post/PostWindow/PostWindow.jsx","components/Home/PostsBar/PostsBar.jsx","components/Home/PostsBar/PostsBarContainer.jsx","components/Home/UsersBar/UsersBar.jsx","components/Home/UsersBar/UsersBarContainer.jsx","components/Home/Home.jsx","components/Profile/MyPosts/Post/Post.jsx","components/common/FormsElements/FormsElements.js","components/Profile/MyPosts/MyPosts.jsx","components/Profile/MyPosts/MyPostsContainer.jsx","components/Profile/ProfileInfo/PhotoBox/ChangeAvatar/ChangeAvatar.jsx","components/Profile/ProfileInfo/PhotoBox/PhotoBox.jsx","components/Profile/ProfileInfo/ProfileStatistic/FollowersList/FollowersList.jsx","components/Profile/ProfileInfo/ProfileStatistic/ProfileStatistic.jsx","components/Profile/ProfileInfo/UserInfo/ProfileStatus/ProfileStatus.jsx","components/Profile/ProfileInfo/UserInfo/UserInfo.jsx","components/Profile/ProfileInfo/ProfileInfo.jsx","components/Profile/Profile.jsx","components/Profile/ProfileContainer.jsx","components/Dialogs/Messages/MessagesList/MessagesList.jsx","components/Dialogs/Messages/SendMessage/SendMessage.jsx","components/Dialogs/Messages/Messages.jsx","components/Dialogs/Dialogs.jsx","components/Dialogs/DialogsContainer.jsx","components/Login/Login.jsx","components/Header/Header.jsx","components/Header/HeaderContainer.jsx","components/Photos/Photos.jsx","components/Photos/PhotosContainer.jsx","components/Home/HomeContainer.jsx","App.js","index.js","components/Home/Home.module.css","components/Profile/ProfileInfo/ProfileInfo.module.css","components/Profile/MyPosts/Post/PostWindow/PostWindow.module.css","components/Photos/Photos.module.css","components/Header/Header.module.css","components/common/Preloader/Preloader.jsx","components/common/FormsElements/FormsElements.module.css","components/Home/PostsBar/PostsBar.module.css","components/Home/UsersBar/UsersBar.module.css","components/Profile/MyPosts/MyPosts.module.css","components/Profile/ProfileInfo/PhotoBox/ChangeAvatar/ChangeAvatar.module.css","components/Profile/ProfileInfo/ProfileStatistic/FollowersList/FollowersList.module.css","redux/UsersReducer.js","components/Profile/ProfileInfo/PhotoBox/PhotoBox.module.css","hoc/withAuthRedirect.js","components/Profile/MyPosts/Post/Post.module.css","components/Login/Login.module.css"],"names":["module","exports","instanceMy","axios","baseURL","photosAPI","getPhotos","limitOfPhoto","get","usersJsonAPI","getUsers","pageSize","pageNumber","then","response","data","getUnfollowedUsers","getUsersUnfollow","id","patch","getUsersFollow","getUserData","authAPI","login","change","logout","profileJsonAPI","getUserProfile","userId","logUserId","updateStatusProfile","status","uploadPicture","src","getUserPosts","changeFollowed","getFollowers","postsJsonAPI","getGlobalPosts","page","dialogsJsonAPI","getAllDialogs","sendMessage","messages","initialState","photos","adress","albums","isFetching","photoReducer","state","action","type","photo","toggleIsFetching","showPhoto","dispatch","a","dialogs","users","setNewDialogs","message","dialogReducer","filter","elem","withCredentials","headers","mainInfo","profile","posts","userPosts","followed","followers","setUserProfile","setNewStatus","savePhotoSuccess","setFollowed","profileReducer","length","body","text","likes","cover","avatar","friendsData","name","navReducer","email","isAuth","setAuthUserData","password","getAuthUserData","res","AuthReducer","globalPosts","HomeReducer","initialized","AppReducer","reducers","combineReducers","dialog","nav","photosReducer","UsersReducer","home","auth","form","formReducer","app","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","applyMiddleware","thunkMiddleware","__store__","maxLength","Nav","props","className","classes","sidebar","item","to","activeClassName","active","icon","PhotosBar","photos_container","classesHome","box","map","key","url","alt","onClick","getMore","PhotosBarContainer","countPhotos","actualPhoto","portionNumber","minIndexPhoto","maxIndexPhoto","paginator","bind","min","this","max","paginatedPhotos","setState","prevProps","prevState","React","Component","PostWindow","close_btn","closeModal","postBox","comments","comments_box","comentator","post_info","post_info_no_comments","title","PostsBar","posts_container","dataLength","next","fetchPosts","hasMore","loader","Preloader","index","post_box","name_box","author","openPostModalWindow","panel_box","handleWindow","PostsBarContainer","firstLoad","setTimeout","concat","console","log","connect","UsersBar","users_container","users_box","user_box","user_box_l","user_info","last_name","follow","UsersBarContainer","countUsers","actualUser","minIndexUser","maxIndexUser","paginatedUsers","Home","home_container","unfollowedUsers","Post","profilPhotoStyle","backgroundImage","coverImage","modalWindow","openModalWindow","style","item_likes","likeCounts","text_container","activePost","required","value","textareaRForm","meta","input","hasError","touched","error","formControl","inputRForm","MyPosts","memo","postElements","post","my_posts","isOwner","PostsReduxForm","onSubmit","formData","addPost","postText","posts_box","maxLength300","reduxForm","add_post","handleSubmit","Field","add_post_textarea","component","validate","placeholder","standart_button","MyPostsContainer","categoryData","ChangeAvatar","useState","category","setCategory","picture","setPicture","changePicture","direct","activePicture","panel","avatarBox","activeCategory","categoryBox","PhotoBox","photoCoverPictures","profil_style","img_box","profil_photo","profilePhoto","photoFile","changePhotoLabel","FollowersList","setFilter","filterLower","toLowerCase","search","onChange","e","target","usersBox","includes","list_item","view_profile","ProfileStatistic","statistic","ProfileStatus","editMode","setEditMode","setStatus","useEffect","activate_edit_mode","autoFocus","currentTarget","onBlur","updateStatus","UserInfo","status_info","button_false","button_true","job_info","job","ProfileInfo","profile_info","Profile","ProfileContainer","open","match","params","showUserProfile","history","push","refreshProfile","postsData","withRouter","withAuthRedirect","MessagesList","messages_list","conversantId","activeDialog","outgoing","my_message","conversant_message","dialogText","SendMessageForm","onSubmitSuccess","result","reset","send_form","Messages","scrollToBottom","messagesEnd","scrollIntoView","block","messages_container","conversants","conversant","messages_box","float","clear","ref","el","form_box","Dialogs","dialogs_container","dialogs_list","search_dialog","dialogs_box","active_dialog","setDialog","DialogsContainer","actualMessages","actualDialogId","activeUserDialogs","i","setConversants","refreshDialogs","LoginReduxForm","loginForm","classesForm","fromSummeryError","stopSubmit","_error","formBox","rememberMe","usage_box","Header","header","l_side","href","r_side","notifications","login_block","HeaderContainer","Photos","activeClass","album","sortPanel","setAlbum","addAlbum","plusPNG","flexContainer","albumId","flexItem","addPhoto","PhotosAPIComponent","HomeContainer","getProfile","UsersContainer","lazy","library","add","fab","faCubes","faSearch","faEnvelope","faBell","faHome","faUser","faUsers","faMusic","faHeart","faCamera","faComments","faPlus","faSignOutAlt","App","initializeAPP","path","render","fallback","PhotosContainer","promise","Promise","all","ReactDOM","document","getElementById","preloader","totalUsersCount","currentPage","followingInProgres","changeFollowSuccess","setUsers","setCurrentPage","setTotalCount","totalCount","toggleFollowingProgress","getUsersThunkCreator","getUsersOnChange","unfollow","followingInProgress","mapStateToPropsForRedirect","RedirectComponent"],"mappings":"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","file":"static/js/main.48635685.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"photos_container\":\"PhotosBar_photos_container__3DDCV\",\"photo\":\"PhotosBar_photo__258Ty\"};","import * as axios from 'axios';\r\n\r\n\r\nconst instanceMy = axios.create({\r\n    baseURL: 'https://my-server-tb.herokuapp.com/',\r\n})\r\n\r\nexport const photosAPI = {\r\n    getPhotos(limitOfPhoto) {\r\n        return instanceMy.get(`photos`)\r\n    }\r\n}\r\n\r\nexport const usersJsonAPI = {\r\n    getUsers(pageSize, pageNumber) {\r\n        return instanceMy.get(`users?_page=${pageNumber}&_limit=${pageSize}`).then(response => {\r\n            return response.data;\r\n        })\r\n    },\r\n    getUnfollowedUsers() {\r\n        return instanceMy.get(`users?followed=false`).then(response => {\r\n            return response.data;\r\n        })\r\n    },\r\n    getUsersUnfollow(id) {\r\n        return instanceMy.patch(`users/${id}`, { \"followed\": false }).then(response => {\r\n            return response.data;\r\n        })\r\n    },\r\n    getUsersFollow(id) {\r\n        return instanceMy.patch(`users/${id}`, { \"followed\": true }).then(response => {\r\n            return response.data;\r\n        })\r\n    },\r\n    getUserData() {\r\n        return instanceMy.get(`auth/`).then(response => {\r\n            return response.data;\r\n        });\r\n    },\r\n}\r\n\r\nexport const authAPI = {\r\n\r\n    login(change) {\r\n        return instanceMy.patch(`auth/`, { \"isAuth\": change }).then(response => {\r\n            return response.data;\r\n        })\r\n    },\r\n    logout(change) {\r\n        return instanceMy.patch(`auth/`, { \"isAuth\": change }).then(response => {\r\n            return response.data;\r\n        })\r\n    },\r\n}\r\n\r\nexport const profileJsonAPI = {\r\n    getUserProfile(userId, logUserId) {\r\n        return instanceMy.get(`users/${userId ? userId : logUserId}?_embed=profile`).then(response => {\r\n            return response.data;\r\n        });\r\n    },\r\n    updateStatusProfile(status, id) {\r\n        return instanceMy.patch(`users/${id}?_embed=profile`, { \"status\": status }).then(response => {\r\n            return response.data;\r\n        });\r\n    },\r\n    uploadPicture(src, id) {\r\n        return instanceMy.patch(`users/${id}?_embed=profile`, { \"avatar\": src }).then(response => {\r\n            return response.data;\r\n        });\r\n    },\r\n    getUserPosts(userId, logUserId) {\r\n        return instanceMy.get(`users/${userId ? userId : logUserId}?_embed=posts`).then(response => {\r\n            return response.data;\r\n        });\r\n    },\r\n    changeFollowed(status, id) {\r\n        return instanceMy.patch(`users/${id}`, { \"followed\": status }).then(response => {\r\n            return response.data;\r\n        });\r\n    },\r\n    getFollowers() {\r\n        return instanceMy.get(`users?followed=true`).then(response => {\r\n            return response.data;\r\n        });\r\n    },\r\n}\r\nexport const postsJsonAPI = {\r\n    getGlobalPosts(page) {\r\n        return instanceMy.get(`global_posts?_page=${page}&_limit=5`).then(response => {\r\n            return response.data;\r\n        });\r\n    }\r\n}\r\nexport const dialogsJsonAPI = {\r\n    getAllDialogs() {\r\n        return instanceMy.get(`dialogs`).then(response => {\r\n            return response.data;\r\n        });\r\n    },\r\n    getUsers() {\r\n        return instanceMy.get(`users`).then(response => {\r\n            return response.data;\r\n        });\r\n    },\r\n    sendMessage(messages, id) {\r\n        return instanceMy.patch(`dialogs/${id}`, { \"dialogs\": messages }).then(response => {\r\n            return response.data;\r\n        });\r\n    }\r\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"change\":\"ProfileStatus_change__1nm8q\",\"activate_edit_mode\":\"ProfileStatus_activate_edit_mode__3gli_\"};","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAPAAAADwCAYAAAA+VemSAAAACXBIWXMAAA7EAAAOxAGVKw4bAAAC8ElEQVR42u3VsQ3DQAwEQdP990yFhhMFSl4LzFRwARecD6+yu3t6w52ZmdMb+PmeHgA8J2AIEzCECRjCBAxhAoYwAUOYgCFMwBAmYAgTMIQJGMIEDGEChjABQ5iAIUzAECZgCBMwhAkYwgQMYQKGMAFDmIAhTMAQJmAIEzCECRjCBAxhAoYwAUOYgCFMwBAmYAgTMIQJGMIEDGEChjABQ5iAIUzAECZgCBMwhAkYwgQMYQKGMAFDmIAhTMAQJmAIEzCECRjCBAxhAoYwAUOYgCFMwBAmYAgTMIQJGMIEDGEChjABQ5iAIUzAECZgCBMwhAkYwgQMYQKGMAFDmIAhTMAQJmAIEzCECRjCBAxhAoYwAUOYgCFMwBAmYAgTMIQJGMIEDGEChjABQ5iAIUzAECZgCBMwhAkYwgQMYQKGMAFDmIAhTMAQJmAIEzCEze7u6RHAMz4whAkYwgQMYQKGMAFDmIAhTMAQJmAIEzCECRjCBAxhAoYwAUOYgCFMwBAmYAgTMIQJGMIEDGEChjABQ5iAIUzAECZgCBMwhAkYwgQMYQKGMAFDmIAhTMAQJmAIEzCECRjCBAxhAoYwAUOYgCFMwBA2pwfwb3f39IY7M+NmXsQHhjABQ5iAIUzAECZgCBMwhAkYwgQMYQKGMAFDmIAhTMAQJmAIEzCECRjCBAxhAoYwAUOYgCFMwBAmYAgTMIQJGMIEDGEChjABQ5iAIUzAECZgCBMwhAkYwgQMYQKGMAFDmIAhTMAQJmAIEzCECRjCBAxhAoYwAUOYgCFMwBAmYAgTMIQJGMIEDGEChjABQ5iAIUzAECZgCBMwhAkYwgQMYQKGMAFDmIAhTMAQJmAIEzCECRjCBAxhAoYwAUOYgCFMwBAmYAgTMIQJGMIEDGEChjABQ5iAIUzAECZgCBMwhAkYwgQMYQKGMAFDmIAhTMAQJmAIEzCECRjCBAxhAoYwAUOYgCFMwBAmYAgTMIQJGMIEDGEChjABQ5iAIewCHokN2vJPgrEAAAAASUVORK5CYII=\"","module.exports = __webpack_public_path__ + \"static/media/noUser.efcd42d6.png\";","module.exports = __webpack_public_path__ + \"static/media/preloader.92e274c7.svg\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"dialogs\":\"Dialogs_dialogs__3YD01\",\"dialogs_container\":\"Dialogs_dialogs_container__2vyPB\",\"dialogs_list\":\"Dialogs_dialogs_list__3A9Ap\",\"messages_container\":\"Dialogs_messages_container__25Ssb\",\"conversant\":\"Dialogs_conversant__3A-Po\",\"messages_box\":\"Dialogs_messages_box__2dK1a\",\"messages_list\":\"Dialogs_messages_list__2wcE7\",\"send_form\":\"Dialogs_send_form__2mpeb\",\"form_box\":\"Dialogs_form_box__pgj_e\",\"messages\":\"Dialogs_messages__2JtNM\",\"message\":\"Dialogs_message__38vS8\",\"dialog\":\"Dialogs_dialog__1Sc8S\",\"my_message\":\"Dialogs_my_message__3kO98\",\"conversant_message\":\"Dialogs_conversant_message__v3pAc\",\"active_dialog\":\"Dialogs_active_dialog__1XLf8\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"sidebar\":\"Nav_sidebar__26E0r\",\"item\":\"Nav_item__2Jziq\",\"active\":\"Nav_active__3Zilv\"};","import { photosAPI } from '../API/API-JSON'\r\n\r\nconst ADD_PHOTO = 'ADD_PHOTO';\r\nconst TOOGLE_IS_FETCHING = 'TOOGLE_IS_FETCHING';\r\n\r\nconst initialState = {\r\n    photos: {\r\n        adress: [],\r\n        albums: []\r\n    },\r\n    limitOfPhoto: 10,\r\n    isFetching: null\r\n}\r\n\r\nconst photoReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case ADD_PHOTO:\r\n            return {\r\n                ...state, photos: action.photo\r\n            }\r\n        case TOOGLE_IS_FETCHING:\r\n            return {\r\n                ...state, isFetching: action.isFetching\r\n            }\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport default photoReducer;\r\n\r\nexport const addPhoto = (photo) => ({ type: ADD_PHOTO, photo });\r\nexport const toggleIsFetching = (isFetching) => ({ type: TOOGLE_IS_FETCHING, isFetching });\r\n\r\nexport const showPhoto = (limitOfPhoto) => async (dispatch) => {\r\n    dispatch(toggleIsFetching(true));\r\n    let response = await photosAPI.getPhotos(limitOfPhoto);\r\n    dispatch(addPhoto(response.data));\r\n    dispatch(toggleIsFetching(false));\r\n}\r\n","import { dialogsJsonAPI } from '../API/API-JSON'\n\nconst SET_NEW_DIALOGS = 'SET_NEW_DIALOGS';\nconst SET_DIALOGS = 'SET_DIALOGS';\nconst SET_USERS = 'SET_USERS';\n\n\nlet initialState = {\n        dialogs: [],\n        users: []\n}\n\n\nconst dialogReducer = (state = initialState, action) => {\n    \n    switch (action.type) {\n        case SET_NEW_DIALOGS: {\n            return {...state, \n                dialogs: [...state.dialogs, \n                state.dialogs.filter(elem => elem.id === action.id)[0], action.message\n                ]\n            };\n        }\n        case SET_DIALOGS: {\n            return {...state, dialogs: action.dialogs};\n        }\n        case SET_USERS: {\n            return {...state, users: action.users};\n        }\n        default :\n            return state;\n    }\n}\n\nexport const setDialogs = (dialogs) => ({type: SET_DIALOGS, dialogs});\n\nexport const setNewDialogs = (message, id) => ({type: SET_NEW_DIALOGS, message, id});\nexport const setUsers = (users) => ({type: SET_USERS, users});\n\nexport const getAllDialogs = () => async (dispatch) => {\n    let res = await dialogsJsonAPI.getAllDialogs();\n    dispatch(setDialogs(res));\n}\n\nexport const getUsers = () => async (dispatch) => {\n    let res = await dialogsJsonAPI.getUsers();\n    dispatch(setUsers(res));\n}\n\nexport const sendMessage = (messages, id) => async (dispatch) => {\n    let res = await dialogsJsonAPI.sendMessage(messages, id);\n    dispatch(setNewDialogs(res, id));\n}\n\nexport default dialogReducer; ","import { usersAPI, profileAPI } from '../API/API'\nimport { usersJsonAPI, profileJsonAPI } from '../API/API-JSON'\n\nconst ADD_POST = 'ADD-POST';\nconst SET_USER_PROFILE = 'SET_USER_PROFILE';\nconst SET_MAIN_INFO_PROFILE = 'SET_MAIN_INFO_PROFILE';\nconst SAVE_PHOTO_SUCCESS = 'SAVE_PHOTO_SUCCESS';\nconst SET_NEW_STATUS = 'SET_NEW_STATUS';\nconst SET_USER_POSTS = 'SET_USER_POSTS';\nconst SET_FOLLOWED = 'SET_FOLLOWED';\nconst SET_FOLLOWERS = 'SET_FOLLOWERS';\nconst TOOGLE_IS_FETCHING = 'TOOGLE_IS_FETCHING';\n\nlet initialState = {\n    mainInfo: {},\n    profile: {},\n    posts: {\n        userPosts: []\n    },\n    followed: {},\n    followers: {},\n    isFetching: null\n};\n\n\nconst profileReducer = (state = initialState, action) => {\n\n\n\n    switch (action.type) {\n        case ADD_POST: {\n            return {\n                ...state,\n                posts: {\n                    ...state.posts, userPosts: [...state.posts.userPosts, {\n                        id: state.posts.userPosts.length + 1,\n                        body: action.text,\n                        likes: 0,\n                        cover: `https://loremflickr.com/320/240/nature?lock=${state.posts.userPosts.length + 1}`\n                    }]\n                }\n            }\n        };\n        case SET_USER_PROFILE: {\n            return (\n                {\n                    ...state, profile: action.profile.profile[0],\n                    followed: action.profile.followed\n                }\n            )\n        }\n        case SET_MAIN_INFO_PROFILE: {\n            return (\n                { ...state, mainInfo: action.profile }\n            )\n        }\n        case SET_USER_POSTS: {\n            return (\n                { ...state, posts: action.posts.posts[0] }\n            )\n        }\n        case SET_NEW_STATUS: {\n            return (\n                { ...state, mainInfo: { ...state.mainInfo, status: action.status } }\n            )\n        }\n        case SAVE_PHOTO_SUCCESS: {\n            return (\n                { ...state, mainInfo: { ...state.mainInfo, avatar: action.src } }\n            )\n        }\n        case SET_FOLLOWED: {\n            return (\n                { ...state, followed: action.status }\n            )\n        }\n        case SET_FOLLOWERS: {\n            return (\n                { ...state, followers: action.followers }\n            )\n        }\n        case TOOGLE_IS_FETCHING: {\n            return (\n                { ...state, isFetching: action.isFetching }\n            )\n        }\n\n        default:\n            return state;\n    }\n}\n\n\nexport const addPostActionCreator = (text) => ({ type: ADD_POST, text });\nexport const setUserProfile = (profile) => ({ type: SET_USER_PROFILE, profile });\nexport const setMainInfoProfile = (profile) => ({ type: SET_MAIN_INFO_PROFILE, profile });\nexport const setUserPosts = (posts) => ({ type: SET_USER_POSTS, posts });\nexport const setNewStatus = (status) => ({ type: SET_NEW_STATUS, status });\nexport const savePhotoSuccess = (src) => ({ type: SAVE_PHOTO_SUCCESS, src });\nexport const setFollowed = (status) => ({ type: SET_FOLLOWED, status });\nexport const setFollowers = (followers) => ({ type: SET_FOLLOWERS, followers });\nexport const toggleIsFetching = (isFetching) => ({ type: TOOGLE_IS_FETCHING, isFetching });\n\n\nexport const showUserProfile = (userId, logUserId) => async (dispatch) => {\n    dispatch(toggleIsFetching(true));\n    let response = await profileJsonAPI.getUserProfile(userId, logUserId);\n    let postsData = await profileJsonAPI.getUserPosts(userId, logUserId);\n    dispatch(setUserProfile(response));\n    dispatch(setMainInfoProfile(response));\n    dispatch(setUserPosts(postsData));\n    dispatch(toggleIsFetching(false));\n}\n\nexport const updateStatusProfile = (status, id) => async (dispatch) => {\n    let response = await profileJsonAPI.updateStatusProfile(status, id);\n    dispatch(setNewStatus(status));\n}\n\nexport const uploadPicture = (src, id) => async (dispatch) => {\n    let response = await profileJsonAPI.uploadPicture(src, id);\n    dispatch(savePhotoSuccess(src));\n}\n\nexport const changeFollowed = (status, id) => async (dispatch) => {\n    let response = await profileJsonAPI.changeFollowed(status, id);\n    dispatch(setFollowed(status));\n}\n\nexport const getFollowers = () => async (dispatch) => {\n    let response = await profileJsonAPI.getFollowers();\n    dispatch(setFollowers(response));\n}\n\nexport default profileReducer;","import * as axios from 'axios';\r\n\r\nconst instance = axios.create({\r\n    withCredentials: true,\r\n    baseURL: 'https://social-network.samuraijs.com/api/1.0/',\r\n    headers: {\r\n        'API-KEY':'ec0e312a-1771-46e0-8aa8-a5d71744dc0b'\r\n    }\r\n}) \r\n\r\nexport const usersAPI = {\r\n    getUsers(pageSize, pageNumber) {\r\n        return instance.get(`users?=${pageNumber}&count=${pageSize}`).then(response => {\r\n                    return response.data;\r\n                })\r\n    },\r\n\r\n    getUsersUnfollow(id) {\r\n        return instance.delete(`follow/${id}`).then(response => {\r\n            return response.data;\r\n        })\r\n    },\r\n\r\n    getUsersFollow(id) {\r\n        return instance.post(`follow/${id}`, {}).then(response => {\r\n            return response.data;\r\n        })\r\n    },\r\n    getUserData() {\r\n        return instance.get(`auth/me`).then(response => {\r\n            return response.data;\r\n        });\r\n    },\r\n    getUserProfile(userId) {\r\n        console.warn('Obsolute method. Please use ProfilAPI method')\r\n        return profileAPI.getUserProfile(userId);\r\n    }\r\n}\r\nexport const profileAPI = {\r\n    getUserProfile(userId) {\r\n        return instance.get(`profile/${userId ? userId : 6677}`).then(response => {\r\n            return response.data; \r\n        });\r\n    },\r\n    getStatusProfile(userId) {\r\n        return instance.get(`profile/status/${userId ? userId : 6677}`).then(response => {\r\n            return response.data;\r\n        });\r\n    },\r\n    \r\n    updateStatusProfile(status) {\r\n        return instance.put(`profile/status`, { status: status }).then(response => {\r\n            return response.data;\r\n        });\r\n    },\r\n    savePhoto(photoFile) {\r\n        let formData = new FormData();\r\n        formData.append('image', photoFile)\r\n        return instance.put(`profile/photo`, formData, {\r\n            headers: {\r\n                'Content-Type': 'multipart/form-data'\r\n              }\r\n        }).then(response => {\r\n            return response.data;\r\n        });\r\n    },\r\n    \r\n}\r\n\r\nexport const authAPI = {\r\n   \r\n    login(email, password, rememberMe = false) {\r\n        return instance.post(`auth/login`, {email, password, rememberMe});\r\n    },\r\n    logout() {\r\n        return instance.delete(`auth/login`);\r\n    },\r\n}\r\n\r\n","\nlet initialState ={\n        friendsData: [\n            {name: \"Kiril\", id: 1},\n            {name: \"Dmytro\", id: 2},\n            {name: \"Alla\", id: 3},\n        ]\n}\n\nconst navReducer = (state = initialState, action) => {\n\n\n\n\n    \n    return state;\n}\n\nexport default navReducer;","import { usersJsonAPI } from '../API/API-JSON'\r\nimport { authAPI } from '../API/API-JSON'\r\nimport { stopSubmit } from 'redux-form';\r\n\r\nconst SET_USER_DATA = 'auth/SET_USER_DATA';\r\nconst SET_USER_AVATAR = 'SET_USER_AVATAR';\r\n\r\n\r\nlet initialState = {\r\n    userId: null,\r\n    login: null,\r\n    email: null,\r\n    isAuth: false\r\n};\r\n\r\n\r\nconst AuthReducer = (state = initialState, action) => {\r\n\r\n    switch (action.type) {\r\n        case SET_USER_DATA: {\r\n            return {\r\n                ...state,\r\n                ...action.data,\r\n            }\r\n        }\r\n\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\n\r\nexport const setAuthUserData = (userId, login, password, isAuth) => ({ type: SET_USER_DATA, data: { userId, login, password, isAuth } });\r\n\r\nexport const getAuthUserData = () => async (dispatch) => {\r\n    let res = await usersJsonAPI.getUserData();\r\n    if (res.isAuth) {\r\n        dispatch(setAuthUserData(res.id, res.login, res.password, res.isAuth));\r\n    }\r\n}\r\n\r\nexport const login = (login, password) => async (dispatch) => {\r\n    let res = await authAPI.login(true);\r\n    if (res.login === login && res.password === password) {\r\n        dispatch(getAuthUserData())\r\n    } else {\r\n        dispatch(stopSubmit('login', { _error: \"Please try again\" }));\r\n    }\r\n}\r\n\r\nexport const logout = () => async (dispatch) => {\r\n    let response = await authAPI.logout(false);\r\n    dispatch(setAuthUserData(null, null, null, false));\r\n}\r\n\r\n\r\n\r\nexport default AuthReducer;","import { postsJsonAPI } from '../API/API-JSON'\r\n\r\nconst SET_GLOBAL_POSTS = 'SET_GLOBAL_POSTS';\r\n\r\n\r\nlet initialState = {\r\n    globalPosts: []\r\n};\r\n\r\n\r\nconst HomeReducer = (state = initialState, action) => {\r\n\r\n    switch (action.type) {\r\n        case SET_GLOBAL_POSTS: {\r\n            return {\r\n                ...state, globalPosts: action.globalPosts\r\n            }\r\n        };\r\n\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\n\r\nexport const setGlobalPosts = (globalPosts) => ({ type: SET_GLOBAL_POSTS, globalPosts })\r\n\r\nexport const getGlobalPosts = (page) => async (dispatch) => {\r\n    let res = await postsJsonAPI.getGlobalPosts(page);\r\n    dispatch(setGlobalPosts(res));\r\n}\r\n\r\n\r\n\r\nexport default HomeReducer;","import { getAuthUserData } from \"./AuthReducer\";\r\n\r\nconst INITIALIZED_SUCCESS = 'INITIALIZED_SUCCESS';\r\n\r\nlet initialState = {\r\n    initialized: false\r\n}\r\n\r\nconst AppReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case INITIALIZED_SUCCESS: {\r\n            return {\r\n                ...state, initialized: true\r\n            }\r\n        }\r\n\r\n        default: \r\n            return state;\r\n    }\r\n}\r\n\r\nexport const initializedSuccess = () => ({type: INITIALIZED_SUCCESS});\r\n\r\nexport const initializeAPP = () => (dispatch) => {\r\n    let promise = dispatch(getAuthUserData());\r\n    Promise.all([promise]).then(() => {\r\n        \r\n        dispatch(initializedSuccess());\r\n    })\r\n    \r\n}\r\n\r\n\r\nexport default AppReducer;","import { createStore, combineReducers, applyMiddleware, compose } from 'redux';\n\nimport photosReducer from './PhotosReducer'\nimport dialogReducer from \"./DialogReducer\";\nimport profileReducer from \"./ProfileReducer\";\nimport navReducer from \"./NavReducer\";\nimport UsersReducer from './UsersReducer';\nimport AuthReducer from './AuthReducer';\nimport HomeReducer from './HomeReducer';\nimport AppReducer from './AppReducer';\nimport thunkMiddleware from 'redux-thunk';\nimport { reducer as formReducer } from 'redux-form'\n\nlet reducers = combineReducers({\n    profile: profileReducer,\n    dialog: dialogReducer,\n    nav: navReducer,\n    photos: photosReducer,\n    users: UsersReducer,\n    home: HomeReducer,\n    auth: AuthReducer,\n    form: formReducer,\n    app: AppReducer\n})\n\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\nconst store = createStore(reducers, composeEnhancers(applyMiddleware(thunkMiddleware)));\n\n\nwindow.__store__ = store; \n\nexport default store;\n","export const required = (value) => {\r\n    \r\n    if (value) {\r\n        return undefined;\r\n    } else {\r\n        return 'Field is required';\r\n    }\r\n\r\n}\r\nexport const maxLengthCreator = (maxLength) => (value) => {\r\n    \r\n    if (value && value.length > maxLength) {\r\n        return `Max length is ${maxLength} symbols`;\r\n    };\r\n\r\n    return undefined;\r\n}","import React from 'react';\n\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport classes from './Nav.module.css';\nimport { NavLink } from 'react-router-dom';\n\n\nconst Nav = (props)=> {\n    return (\n        <nav className={classes.sidebar}>\n                <div className={classes.item}>\n                    <NavLink to=\"/home\" activeClassName={classes.active}>\n                        <FontAwesomeIcon icon=\"home\" />\n                        <p>Home</p>\n                    </NavLink>\n                </div>\n                <div className={classes.item}>\n                    <NavLink to=\"/dialogs\" activeClassName={classes.active}>\n                        <FontAwesomeIcon icon=\"envelope\" /> \n                        <p>Messages</p>\n                    </NavLink>\n                </div>\n                <div className={classes.item}>\n                    <NavLink to=\"/users\" activeClassName={classes.active}>\n                        <FontAwesomeIcon icon=\"users\" />\n                        <p>Users</p>\n                    </NavLink>\n                </div>\n                <div className={classes.item}>\n                    <NavLink to=\"/photos\" activeClassName={classes.active}>\n                        <FontAwesomeIcon icon=\"camera\" />\n                        <p>Photos</p>\n                    </NavLink>\n                </div>\n                <div className={classes.item}>\n                    <NavLink to=\"/profile\" activeClassName={classes.active}>\n                        <FontAwesomeIcon icon=\"user\" />\n                        <p>Profile</p>\n                    </NavLink>\n                </div>\n        </nav>\n    )\n}\n\n\nexport default Nav;\n\n","import React from 'react';\r\n\r\nimport classes from './PhotosBar.module.css';\r\nimport classesHome from '../Home.module.css';\r\n\r\nimport {NavLink} from 'react-router-dom';\r\n\r\nconst PhotosBar = (props) => {\r\n\r\n    let getPhoto = () => {\r\n        return (\r\n            props.photos.map(elem => (<img key={elem.id} className={classes.photo} src={elem.url} alt=\"\"/>))\r\n        )\r\n    }\r\n    return (\r\n        <div className={classes.photos_container}>\r\n            <div className={classesHome.box}>\r\n                <NavLink to='/photos/'>Trending Photos</NavLink>\r\n            </div>\r\n            <div className={classesHome.box}>\r\n                {getPhoto()} \r\n            </div>\r\n            <div className={classesHome.box}>\r\n                <button onClick={()=>{props.getMore()}}>More Photos</button>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default PhotosBar;","import React from 'react';\r\n\r\nimport PhotosBar from './PhotosBar';\r\n\r\n\r\nclass PhotosBarContainer extends React.Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            countPhotos: null,\r\n            actualPhoto: [],\r\n            portionNumber: 4,\r\n            minIndexPhoto: 1,\r\n            maxIndexPhoto: 4,\r\n        }\r\n        this.paginator = this.paginator.bind(this);\r\n        this.getMore = this.getMore.bind(this);\r\n    }\r\n\r\n    paginator() {\r\n        let min = this.state.minIndexPhoto;\r\n        let max = this.state.maxIndexPhoto;\r\n        let paginatedPhotos = this.props.photos.photos.adress.filter(elem => elem.id >= min && elem.id <= max)\r\n        this.setState({\r\n            actualPhoto: paginatedPhotos,\r\n            countPhotos: this.props.photos.photos.adress.length\r\n        })\r\n    }\r\n\r\n    getMore() {\r\n        let portionNumber = this.state.portionNumber;\r\n        if (this.state.countPhotos > this.state.maxIndexPhoto) {\r\n            this.setState({\r\n                minIndexPhoto: this.state.minIndexPhoto + portionNumber,\r\n                maxIndexPhoto: this.state.maxIndexPhoto + portionNumber,\r\n            }, () => { this.paginator() })\r\n        } else {\r\n            this.setState({\r\n                minIndexPhoto: 1,\r\n                maxIndexPhoto: portionNumber,\r\n            }, () => { this.paginator() })\r\n        }\r\n        \r\n    }\r\n\r\n    componentDidUpdate(prevProps, prevState) {\r\n        if (this.props.photos != prevProps.photos) {\r\n            this.paginator();\r\n        }\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <PhotosBar photos={this.state.actualPhoto} getMore={this.getMore} />\r\n        )\r\n    }\r\n}\r\n\r\nexport default PhotosBarContainer;","import React from 'react';\r\nimport classes from './PostWindow.module.css';\r\n\r\nconst PostWindow = (props) => {\r\n\r\n    return (\r\n        <div className=\"modalWindow\">\r\n            <button className={classes.close_btn} onClick={() => { props.closeModal() }}>X</button>\r\n            <div className={classes.postBox}>\r\n                <div className={classes.photo}>\r\n                    <img src={props.photo} alt=\"image\" />\r\n                </div>\r\n                {props.comments &&\r\n                    <div className={classes.body}>\r\n                        <div className={classes.comments}>\r\n                            {props.comments.map(elem => {\r\n                                return (\r\n                                    <div className={classes.comments_box}>\r\n                                        <h3>{elem.comentator}</h3>\r\n                                        <p>{elem.text}</p>\r\n                                    </div>\r\n                                )\r\n                            })}\r\n                        </div>\r\n                    </div>\r\n                }\r\n                <div className={props.comments ? classes.post_info : classes.post_info_no_comments}>\r\n                    <h2>{props.title}</h2>\r\n                    <p>{props.message}</p>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default PostWindow;","import React from 'react';\r\nimport InfiniteScroll from \"react-infinite-scroll-component\";\r\n\r\nimport classesHome from '../Home.module.css';\r\nimport classes from './PostsBar.module.css';\r\nimport Preloader from '../../common/Preloader/Preloader'\r\n\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\n\r\nimport PostWindow from '../../Profile/MyPosts/Post/PostWindow/PostWindow';\r\n\r\nconst PostsBar = (props) => {\r\n    return (\r\n        <div className={classes.posts_container}>\r\n            \r\n            <InfiniteScroll\r\n                dataLength={props.posts.length}\r\n                next={props.fetchPosts}\r\n                hasMore={true}\r\n                loader={<Preloader />}>\r\n                {props.posts.map((elem, index) => {\r\n                    return (\r\n                        <div key={elem.id} className={classes.post_box}>\r\n                            <div className={classes.name_box}>\r\n                                <img src={elem.avatar} alt=\"ava\" />\r\n                                <div>\r\n                                    <p className={classes.name}>{elem.author}</p>\r\n                                    <p className={classes.data}>{elem.data}</p>\r\n                                </div>\r\n                            </div>\r\n                            <img src={elem.cover} alt=\"post\" onClick={() => { props.openPostModalWindow(elem.id) }} />\r\n                            <div className={classes.panel_box}>\r\n                                <p><FontAwesomeIcon icon=\"heart\" /> {elem.likes}</p>\r\n                                <p><FontAwesomeIcon icon=\"comments\" /> {elem.comments.length}</p>\r\n                            </div>\r\n                            {props.handleWindow === elem.id && <PostWindow message={elem.body}\r\n                                photo={elem.cover} title={elem.title}\r\n                                closeModal={props.openPostModalWindow} comments={elem.comments}/>}\r\n                        </div>\r\n                    )\r\n                })}\r\n            </InfiniteScroll>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default PostsBar;","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\n\r\nimport PostsBar from './PostsBar';\r\n\r\nimport { getGlobalPosts } from '../../../redux/HomeReducer';\r\n\r\nclass PostsBarContainer extends React.Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            posts: [],\r\n            page: 1,\r\n            firstLoad: true,\r\n            handleWindow: false\r\n        }\r\n        this.fetchPosts = this.fetchPosts.bind(this);\r\n        this.openPostModalWindow = this.openPostModalWindow.bind(this);\r\n    }\r\n\r\n    componentDidUpdate(prevProps, prevState) {\r\n        if (this.state.firstLoad) {\r\n            if (this.props.globalPosts != prevProps.globalPosts) {\r\n                this.setState({\r\n                    posts: this.props.globalPosts,\r\n                    page: this.state.page + 1,\r\n                    firstLoad: false,\r\n                })\r\n            }\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.props.getGlobalPosts(this.state.page)\r\n    }\r\n\r\n    fetchPosts() {\r\n        this.props.getGlobalPosts(this.state.page)\r\n        setTimeout(() => {\r\n            this.setState({\r\n                posts: this.state.posts.concat(this.props.globalPosts),\r\n                page: this.state.page + 1\r\n            });\r\n        }, 1500)\r\n    }\r\n\r\n    openPostModalWindow(status) {\r\n        if (status) {\r\n            this.setState({\r\n                handleWindow: status\r\n            });\r\n        } else {\r\n            this.setState({\r\n                handleWindow: false\r\n            });\r\n        }\r\n    }\r\n\r\n\r\n    render() {\r\n        console.log(this.state.page)\r\n        return (\r\n            <PostsBar\r\n                posts={this.state.posts}\r\n                fetchPosts={this.fetchPosts}\r\n                openPostModalWindow={this.openPostModalWindow} \r\n                handleWindow={this.state.handleWindow}/>\r\n        )\r\n    }\r\n}\r\n\r\n\r\nlet mapStateToProps = (state) => ({\r\n    globalPosts: state.home.globalPosts\r\n})\r\n\r\nexport default connect(mapStateToProps, { getGlobalPosts })(PostsBarContainer);","import React from 'react';\r\n\r\nimport classesHome from '../Home.module.css';\r\nimport classes from './UsersBar.module.css';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { NavLink } from 'react-router-dom';\r\n\r\nconst UsersBar = (props) => {\r\n\r\n    let getUser = () => {\r\n        return (\r\n            props.users.map(elem => (\r\n                <div className={classes.user_box}>\r\n                    <div className={classes.user_box_l}>\r\n                        <img src={elem.avatar} alt=\"ava\" />\r\n                        <div className={classes.user_info}>\r\n                            <h3>{elem.name} {elem.last_name}</h3>\r\n                            <p>{elem.status}</p>\r\n                        </div>\r\n                    </div>\r\n                    {props.isAuth && <button onClick={()=>{props.follow(elem.id)}}><FontAwesomeIcon icon=\"plus\" /></button>}\r\n                </div>\r\n            ))\r\n        )\r\n    }\r\n\r\n    return (\r\n        <div className={classes.users_container}>\r\n            <div className={classesHome.box}>\r\n                <NavLink to='/users/'>You may know...</NavLink>\r\n            </div>\r\n            <div className={classes.users_box}>\r\n                {getUser()}\r\n            </div>\r\n            <div className={classesHome.box}>\r\n                <button onClick={() => { props.getMore() }}>More Users</button>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default UsersBar; ","import React from 'react';\r\n\r\nimport UsersBar from './UsersBar';\r\n\r\n\r\nclass UsersBarContainer extends React.Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            countUsers: null,\r\n            actualUser: [],\r\n            portionNumber: 5,\r\n            minIndexUser: 1,\r\n            maxIndexUser: 5,\r\n        }\r\n        this.paginator = this.paginator.bind(this);\r\n        this.getMore = this.getMore.bind(this);\r\n    }\r\n\r\n    paginator() {\r\n        let min = this.state.minIndexUser;\r\n        let max = this.state.maxIndexUser;\r\n        let paginatedUsers = this.props.users.filter((elem,index) => index >= min && index <= max)\r\n        this.setState({\r\n            actualUser: paginatedUsers,\r\n            countUsers: this.props.users.length\r\n        })\r\n    }\r\n\r\n    getMore() {\r\n        let portionNumber = this.state.portionNumber;\r\n        if (this.state.countUsers > this.state.maxIndexUser) {\r\n            this.setState({\r\n                minIndexUser: this.state.minIndexUser + portionNumber,\r\n                maxIndexUser: this.state.maxIndexUser + portionNumber,\r\n            }, () => { this.paginator() })\r\n        } else {\r\n            this.setState({\r\n                minIndexUser: 1,\r\n                maxIndexUser: portionNumber,\r\n            }, () => { this.paginator() })\r\n        }\r\n    }\r\n    \r\n\r\n    componentDidUpdate(prevProps, prevState) {\r\n        if (this.props.users != prevProps.users) {\r\n            this.paginator();\r\n        }\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <UsersBar \r\n            users={this.state.actualUser} \r\n            getMore={this.getMore} \r\n            follow={this.props.follow}\r\n            isAuth={this.props.isAuth}/>\r\n        )\r\n    }\r\n}\r\n\r\n\r\n\r\nexport default UsersBarContainer;","import React from 'react';\r\nimport PhotosBarContainer from './PhotosBar/PhotosBarContainer';\r\nimport PostsBarContainer from './PostsBar/PostsBarContainer';\r\nimport UsersBarContainer from './UsersBar/UsersBarContainer';\r\n\r\nimport classes from './Home.module.css';\r\n\r\nconst Home = (props) => {\r\n    return (\r\n        <div className={classes.home_container}>\r\n            <PhotosBarContainer \r\n            photos={props.photos}/>\r\n            <PostsBarContainer />\r\n            <UsersBarContainer \r\n            users={props.unfollowedUsers}\r\n            follow={props.follow}\r\n            getUnfollowedUsers={props.getUnfollowedUsers}\r\n            isAuth={props.isAuth}/>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Home;","import React from 'react';\nimport classes from './Post.module.css';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\n\nimport PostWindow from './PostWindow/PostWindow';\n\nconst Post = (props) => {\n\n    let profilPhotoStyle = {\n        backgroundImage: `url(${props.coverImage})`,\n    }\n\n    let closeModal = () => {\n        props.openModalWindow(false)\n    }\n\n    let openPost = () => {\n        if (!props.state.modalWindow) {\n            props.openModalWindow(\"showPost\", props.id)\n          }\n    }\n\n    return (\n        <div  onClick={() => { openPost() }}\n            className={classes.item} style={profilPhotoStyle}>\n            <span className={classes.item_likes}><FontAwesomeIcon icon=\"heart\" /> {props.likeCounts}</span>\n            <div className={classes.text_container}>\n                <p>{props.message}</p>\n            </div>\n            {props.state.modalWindow === \"showPost\" && props.state.activePost === props.id &&\n            <PostWindow message={props.message}\n            photo={props.coverImage} title={props.title}\n            closeModal={closeModal} />}\n        </div>\n    );\n}\n\nexport default Post;","import React from 'react';\r\n\r\nimport classes from './FormsElements.module.css'\r\n\r\nexport const textareaRForm = ({ meta, input, ...props }) => {\r\n\r\n    const hasError = meta.touched && meta.error;\r\n    return (\r\n        <div className={classes.formControl + \" \" + (hasError ? classes.error : '')}>\r\n            <textarea {...input} {...props} />\r\n            {hasError && <div>{meta.error}</div>}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport const inputRForm = ({ meta, input, ...props }) => {\r\n\r\n    const hasError = meta.touched && meta.error;\r\n    return (\r\n        <div className={classes.formControl + \" \" + (hasError ? classes.error : '')}>\r\n            <input {...input} {...props} />\r\n            {hasError && <div>{meta.error}</div>}\r\n        </div>\r\n    )\r\n}\r\n","import React, { memo } from 'react';\nimport { Field, reduxForm } from 'redux-form';\n\nimport classes from './MyPosts.module.css';\n\nimport Post from './Post/Post';\nimport { maxLengthCreator } from '../../../utilities/validators/validators';\nimport { textareaRForm } from '../../common/FormsElements/FormsElements';\n\nconst MyPosts = React.memo(props => {\n\n  let onSubmit = (formData) => {\n    props.addPost(formData.postText);\n  }\n\n  let postElements = props.posts.map((post) => {\n\n    return (\n      <Post key={post.id} message={post.body}\n        likeCounts={post.likes} id={post.id} title={post.title}\n        coverImage={post.cover} openModalWindow={props.openModalWindow}\n        state={props.state} />\n    )\n  })\n\n  return (\n\n    <div className={classes.my_posts}>\n      {props.isOwner && <PostsReduxForm onSubmit={onSubmit} />}\n      <div className={classes.posts_box}>\n        {postElements}\n      </div>\n    </div>\n  );\n\n})\n\nlet maxLength300 = maxLengthCreator(300);\n\nconst PostsForm = (props) => {\n\n  return (\n    <form className={classes.add_post} onSubmit={props.handleSubmit}>\n      <Field className={classes.add_post_textarea} component={textareaRForm} name='postText' validate={[maxLength300]} placeholder='Your post' />\n      <button className={classes.standart_button}>Add post</button>\n    </form>\n  )\n}\n\nconst PostsReduxForm = reduxForm({ form: 'posts' })(PostsForm);\n\nexport default MyPosts;","import React from 'react';\n\nimport { addPostActionCreator } from '../../../redux/ProfileReducer';\n\nimport MyPosts from './MyPosts';\nimport { connect } from 'react-redux';\n\nclass MyPostsContainer extends React.Component {\n\n  render() {\n    return (\n      <MyPosts posts={this.props.posts} openModalWindow={this.props.openModalWindow}\n      state={this.props.state} isOwner={this.props.isOwner} addPost={this.props.addPost}/>\n    )\n  }\n}\n\n\nlet mapStateToProps = (state) => {\n  return {\n    posts: state.profile.posts.userPosts,\n  }\n}\n\nlet mapDispatchToProps = (dispatch) => {\n\n  return {\n    addPost: (posts) => {\n      dispatch(addPostActionCreator(posts));\n    },\n  }\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(MyPostsContainer);\n","import React, { useState } from 'react';\r\nimport classes from './ChangeAvatar.module.css';\r\n\r\nlet categoryData = [\r\n    {\r\n        id: 1,\r\n        name: \"Robots\",\r\n        url: \"https://robohash.org/set_set1/1\"\r\n    },\r\n    {\r\n        id: 2,\r\n        name: \"Alliance\",\r\n        url: \"https://robohash.org/set_set2/1\"\r\n    },\r\n    {\r\n        id: 3,\r\n        name: \"Drons\",\r\n        url: \"https://robohash.org/set_set3/1\"\r\n    },\r\n    {\r\n        id: 4,\r\n        name: \"Cats\",\r\n        url: \"https://robohash.org/set_set4/1\"\r\n    }\r\n]\r\n\r\nconst ChangeAvatar = (props) => {\r\n\r\n    const [category, setCategory] = useState(1);\r\n    const [picture, setPicture] = useState(1);\r\n\r\n    let activeCategory = (category) => (\r\n        setCategory(category)\r\n    )\r\n\r\n    let changePicture = (direct) => {\r\n        if (direct === \"prev\" && picture > 1) {\r\n            setPicture(picture - 1)\r\n        } else if (direct === \"next\") {\r\n            setPicture(picture + 1)\r\n        }\r\n    }\r\n\r\n    let activePicture = `https://robohash.org/set_set${category}/${picture}/`;\r\n\r\n\r\n\r\n\r\n    return (\r\n        <div className=\"modalWindow\">\r\n            <div className={classes.panel}>\r\n                <button onClick={() => { props.closeModal() }}>X</button>\r\n            </div>\r\n            <div className={classes.avatarBox}>\r\n                <div className={classes.category}>\r\n                    {categoryData.map(elem => {\r\n                        return (\r\n                            <div key={elem.id} onClick={() => { activeCategory(elem.id) }} className={classes.categoryBox}>\r\n                                <img src={elem.url} alt=\"\" />\r\n                                <p>{elem.name}</p>\r\n                            </div>\r\n                        )\r\n                    })}\r\n                </div>\r\n                <div className={classes.avatar}>\r\n                    <button onClick={() => { changePicture(\"prev\") }}>Prev</button>\r\n                    <img onClick={() => {\r\n                        props.uploadPicture(activePicture, props.userId)\r\n                        props.closeModal();\r\n                    }} src={activePicture} alt=\"\" />\r\n                    <button onClick={() => { changePicture(\"next\") }}>Next</button>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default ChangeAvatar;","import React, { useState } from 'react';\r\nimport photoFile from '../../../../assets/images/noUser.png'\r\nimport classes from './PhotoBox.module.css';\r\nimport ChangeAvatar from './ChangeAvatar/ChangeAvatar';\r\n\r\nconst PhotoBox = (props) => {\r\n\r\n    const changeAvatar = () => {\r\n        if (!props.modalWindow) {\r\n            props.openModalWindow(\"changePhoto\")\r\n        }\r\n    }\r\n\r\n    const closeModal = () => {\r\n        props.openModalWindow(false)\r\n    }\r\n    \r\n    const photoCoverPictures = props.posts.map((elem, index) => {\r\n            if (index < 8) {\r\n                return (\r\n                    <li key={index}><img src={elem.cover} alt=\"\" /></li>\r\n                )\r\n            }\r\n        })\r\n\r\n\r\n    return (\r\n        <div className={classes.profil_style}>\r\n            {(props.modalWindow === \"changePhoto\") &&\r\n                <ChangeAvatar closeModal={closeModal}\r\n                    uploadPicture={props.uploadPicture}\r\n                    userId={props.userId} />}\r\n            <ul className={classes.img_box}>\r\n                {photoCoverPictures}\r\n            </ul>\r\n            <div className={classes.profil_photo} >\r\n                <img src={props.profilePhoto || photoFile} alt=\"avatar\" />\r\n                {props.isOwner &&\r\n                    <button className={classes.changePhotoLabel} onClick={() => { changeAvatar() }}>\r\n                        <p>Change avatar</p>\r\n                    </button>\r\n                }\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default PhotoBox;","import React, { useState } from 'react';\r\nimport classes from './FollowersList.module.css';\r\n\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { NavLink } from 'react-router-dom';\r\n\r\nconst FollowersList = (props) => {\r\n\r\n    const [filter, setFilter] = useState('')\r\n\r\n    let filterLower = filter.toLowerCase();\r\n    let handleChange = (e) => {\r\n        setFilter(e.target.value)\r\n    }\r\n\r\n\r\n    return (\r\n        <div className=\"modalWindow\">\r\n            <div className={classes.panel}>\r\n                <div className={classes.search}>\r\n                    <input type=\"text\" value={filter} onChange={handleChange} />\r\n                    <button><FontAwesomeIcon icon=\"search\" /></button>\r\n                </div>\r\n                <button onClick={() => { props.closeModal() }}>X</button>\r\n            </div>\r\n            <div className={classes.usersBox}>\r\n                <ul>\r\n                    {props.followers.\r\n                        map(elem => {\r\n                            if (elem.name.toLowerCase().includes(filterLower)\r\n                                || elem.last_name.toLowerCase().includes(filterLower)) {\r\n                                return (\r\n                                    <li key={elem.id} className={classes.list_item} key={elem.id}>\r\n                                        <div>{elem.name} {elem.last_name}</div>\r\n                                        <NavLink className={classes.view_profile}\r\n                                            to={'/profile/' + elem.id}\r\n                                            onClick={() => { props.closeModal() }}>View profile</NavLink>\r\n                                    </li>\r\n                                )\r\n                            }\r\n                        })}\r\n                </ul>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default FollowersList;","import React from 'react';\n\nimport classes from '../ProfileInfo.module.css';\n\nimport FollowersList from './FollowersList/FollowersList'\n\nconst ProfileStatistic = (props) => {\n\n  let openFollowersList = () => {\n    if (!props.modalWindow) {\n      props.openModalWindow(\"followersList\")\n    }\n  }\n\n  let closeModal = () => {\n    props.openModalWindow(false)\n}\n\n  return (\n    <div className={classes.statistic}>\n      {(props.modalWindow === \"followersList\") &&\n        <FollowersList closeModal={closeModal}\n          followers={props.followers} />}\n      <button>Posts <span>{props.posts.length}</span></button>\n      <button onClick={() => { openFollowersList() }}>Followers <span>{props.followers.length}</span></button>\n    </div>\n  );\n}\n\n\nexport default ProfileStatistic;","import React, { useEffect, useState } from 'react';\r\n\r\nimport classes from './ProfileStatus.module.css';\r\n\r\nconst ProfileStatus = (props) => {\r\n    \r\n    let [editMode, setEditMode] = useState(false);\r\n    let [status, setStatus] = useState(props.status);\r\n\r\n    useEffect( () => {\r\n        setStatus(props.status)\r\n    }, [props.status])\r\n\r\n    const activateEditMode = () => {\r\n        if (props.isOwner) {\r\n            setEditMode(true);\r\n        }\r\n    }\r\n\r\n    const deactivateEditMode = () => {\r\n        setEditMode(false);\r\n        props.updateStatus(status, props.userId);\r\n    }\r\n\r\n    const onStatusChange = (e) => {\r\n        setStatus(e.currentTarget.value); \r\n    }\r\n\r\n    return(\r\n        <div>\r\n            \r\n            {!editMode &&\r\n                <p className={classes.activate_edit_mode} onClick={activateEditMode}>{props.status || 'No status'}</p>\r\n            }\r\n            {editMode &&\r\n                <input  \r\n                autoFocus\r\n                onChange={onStatusChange} \r\n                onBlur={deactivateEditMode} \r\n                className={classes.change} type=\"text\" \r\n                value={status}/>\r\n            }\r\n        </div> \r\n    )\r\n}\r\n\r\nexport default ProfileStatus;","import React from 'react';\n\nimport classes from '../ProfileInfo.module.css';\n\nimport ProfileStatus from './ProfileStatus/ProfileStatus';\n\nconst UserInfo = (props) => {\n\n  return (\n    <div className={classes.status}>\n      <div>\n        <h2>{props.mainInfo.name} {props.mainInfo.last_name}</h2>\n        <ProfileStatus\n          status={props.mainInfo.status}\n          userId={props.mainInfo.id}\n          updateStatus={props.updateStatus} isOwner={props.isOwner}\n          changeFollowed={props.changeFollowed} />\n        {props.isOwner\n          ? <p className={classes.status_info}>Click on status to change</p>\n          : (props.followed ? <button className={classes.button_false} onClick={() => { props.changeFollowed(false, props.userId) }}>Unfollow</button>\n            : <button className={classes.button_true} onClick={() => { props.changeFollowed(true, props.userId) }}>Follow</button>)}\n      </div>\n      <div className={classes.job_info}>\n        <p>{props.profile.job}</p>\n        <p>{props.profile.email}</p>\n      </div>\n    </div>\n  );\n}\n\n\nexport default UserInfo;","import React from 'react';\n\nimport classes from './ProfileInfo.module.css';\n\nimport PhotoBox from './PhotoBox/PhotoBox';\nimport ProfileStatistic from './ProfileStatistic/ProfileStatistic';\nimport UserInfo from './UserInfo/UserInfo';\n\n\nconst ProfileInfo = (props) => {\n\n  let userId = props.mainInfo.id;\n\n  return (\n\n    <div className={classes.profile_info}>\n      <PhotoBox\n        profilePhoto={props.mainInfo.avatar}\n        isOwner={props.isOwner}\n        uploadPicture={props.uploadPicture}\n        userId={userId}\n        posts={props.posts}\n        openModalWindow={props.openModalWindow}\n        modalWindow={props.modalWindow} />\n      <UserInfo mainInfo={props.mainInfo}\n        followed={props.followed}\n        updateStatus={props.updateStatus}\n        isOwner={props.isOwner}\n        profile={props.profile}\n        userId={userId}\n        changeFollowed={props.changeFollowed}\n      />\n      <ProfileStatistic posts={props.posts}\n        followers={props.followers}\n        openModalWindow={props.openModalWindow}\n        modalWindow={props.modalWindow} />\n    </div>\n  );\n}\n\n\nexport default ProfileInfo;","import React from 'react';\n\nimport classes from './Profile.module.css';\n\nimport MyPostsContainer from './MyPosts/MyPostsContainer';\nimport ProfileInfo from './ProfileInfo/ProfileInfo';\nimport { Redirect } from 'react-router-dom';\n\nconst Profile = (props) => {\n\n  return (\n    <div>\n      <ProfileInfo profile={props.profile} mainInfo={props.mainInfo}\n        updateStatus={props.updateStatus} isOwner={props.isOwner}\n        uploadPicture={props.uploadPicture} followed={props.followed}\n        changeFollowed={props.changeFollowed} posts={props.posts}\n        followers={props.followers} openModalWindow={props.openModalWindow}\n        modalWindow={props.state.modalWindow}/>\n      <MyPostsContainer openModalWindow={props.openModalWindow}\n        state={props.state} isOwner={props.isOwner}/>/>\n    </div>\n\n  );\n}\n\nexport default Profile;","import React, { Component, Fragment } from 'react';\r\nimport Profile from './Profile';\r\nimport { connect } from 'react-redux';\r\nimport { setUserProfile, showUserProfile, updateStatusProfile, uploadPicture, changeFollowed, getFollowers } from '../../redux/ProfileReducer';\r\nimport { withRouter } from 'react-router-dom';\r\nimport { withAuthRedirect } from '../../hoc/withAuthRedirect';\r\nimport { compose } from 'redux';\r\nimport Preloader from '../common/Preloader/Preloader';\r\n\r\nclass ProfileContainer extends React.Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            modalWindow: false,\r\n            activePost: false\r\n        }\r\n        this.openModalWindow = this.openModalWindow.bind(this)\r\n    }\r\n\r\n    openModalWindow(open, userId) {\r\n        if (open) {\r\n            this.setState({\r\n                modalWindow: open\r\n            })\r\n            if (userId) {\r\n                this.setState({\r\n                    activePost: userId\r\n                })\r\n            }\r\n        } else {\r\n            this.setState({\r\n                modalWindow: false\r\n            })\r\n        }\r\n    }\r\n\r\n\r\n    refreshProfile() {\r\n        let userId = this.props.match.params.userId;\r\n        let logUserId = this.props.logUserId;\r\n        this.props.showUserProfile(userId, logUserId);\r\n        this.props.getFollowers();\r\n        if (!userId) {\r\n            userId = this.props.logUserId;\r\n            if (!userId) {\r\n                this.props.history.push('/Home')\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n    componentDidMount() {\r\n        this.refreshProfile();\r\n    }\r\n\r\n    componentDidUpdate(prevProps, prevState) {\r\n        if (this.props.match.params.userId != prevProps.match.params.userId) {\r\n            this.refreshProfile();\r\n        }\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <Fragment>\r\n                {this.props.isFetching ? <Preloader /> :\r\n                    <div><Profile\r\n                        {...this.props}\r\n                        isOwner={!this.props.match.params.userId}\r\n                        profile={this.props.profile}\r\n                        mainInfo={this.props.mainInfo}\r\n                        updateStatus={this.props.updateStatusProfile}\r\n                        uploadPicture={this.props.uploadPicture}\r\n                        followed={this.props.followed}\r\n                        changeFollowed={this.props.changeFollowed}\r\n                        posts={this.props.posts} followers={this.props.followers}\r\n                        openModalWindow={this.openModalWindow}\r\n                        state={this.state}\r\n                    />\r\n                    </div>}\r\n            </Fragment>\r\n        )\r\n    }\r\n}\r\n\r\n\r\nlet mapStateToProps = (state) => ({\r\n    profile: state.profile.profile,\r\n    mainInfo: state.profile.mainInfo,\r\n    isAuth: state.auth.isAuth,\r\n    logUserId: state.auth.userId,\r\n    followed: state.profile.followed,\r\n    posts: state.profile.posts.userPosts,\r\n    followers: state.profile.followers,\r\n    isFetching: state.profile.isFetching\r\n});\r\nexport default compose(\r\n    connect(mapStateToProps,\r\n        { setUserProfile, showUserProfile, updateStatusProfile, uploadPicture, changeFollowed, getFollowers }),\r\n    withRouter,\r\n    withAuthRedirect\r\n)(ProfileContainer);","import React from 'react';\n\nimport classes from '../../Dialogs.module.css';\n\n\nconst MessagesList = (props) => {\n\n\n    return (\n        <div className={classes.messages_list}>\n            {props.dialogs.filter(elem => elem.conversantId === props.activeDialog).map(elem => {\n                return (\n                    elem.dialogs.map(elem => {\n                        return (\n                            <div key={elem.id}\n                                className={\n                                    `${classes.message} ${elem.outgoing\n                                        ? classes.my_message\n                                        : classes.conversant_message}`}>\n                                <p>\n                                    {elem.dialogText}\n                                </p>\n                            </div>\n                        )\n                    }))\n            })}\n        </div>\n    );\n}\n\n\n\nexport default MessagesList;","import React from 'react';\n\nimport classes from '../../Dialogs.module.css';\n\nimport { Field, reduxForm, reset } from 'redux-form'\n\nconst afterSubmit = (result, dispatch) =>\n  dispatch(reset('message'));\n\n\nconst SendMessage = (props) => {\n    return (\n        <form onSubmit={props.handleSubmit} className={classes.send_form}>\n            <Field placeholder=\"Type your message\" component={'textarea'} name='message' />\n            <button type=\"submit\">Send</button>\n        </form>\n    )\n}\n\nconst SendMessageForm = reduxForm({ \nform: 'message',\nonSubmitSuccess: afterSubmit,\n })(SendMessage);\n\n\n\nexport default SendMessageForm;","import React, { useEffect, useRef } from 'react';\n\nimport classes from '../Dialogs.module.css';\nimport MessagesList from './MessagesList/MessagesList';\nimport SendMessageForm from './SendMessage/SendMessage';\n\nclass Messages extends React.Component {\n\n    scrollToBottom = () => {\n        this.messagesEnd.scrollIntoView({ block: \"nearest\" });\n    }\n\n\n    componentDidUpdate() {\n        this.scrollToBottom();\n    }\n\n    render() {\n        return (\n            <div className={classes.messages_container}>\n                {this.props.conversants.filter(elem => elem.id === this.props.activeDialog).map(elem => (\n                    <div className={classes.conversant}>\n                        <img src={elem.avatar} alt=\"ava\" />\n                        <h3>{elem.name} {elem.last_name}</h3>\n                    </div>\n                ))}\n                <div className={classes.messages_box}>\n                    <div className={classes.messages_list}>\n                        <MessagesList \n                        dialogs={this.props.dialogs}\n                        activeDialog={this.props.activeDialog}/>\n                        <div style={{ float: \"left\", clear: \"both\" }}\n                            ref={(el) => { this.messagesEnd = el; }}>\n                        </div>\n                    </div>\n                </div>\n                <div className={classes.form_box}>\n                    <SendMessageForm onSubmit={this.props.onSubmit} />\n                </div>\n            </div>\n        );\n    }\n}\n\nexport default Messages;","import React, { useEffect, useRef } from 'react';\n\nimport classes from './Dialogs.module.css';\n\nimport Messages from './Messages/Messages';\n\n\nconst Dialogs = (props) => {\n\n\n    return (\n        <div className={classes.dialogs}>\n            <div className={classes.dialogs_container}>\n                <h3>Messages</h3>\n                <div className={classes.dialogs_list}>\n                    <div className={classes.search_dialog}></div>\n                    <div className={classes.dialogs_box}>\n                        {props.conversants.map(elem => {\n                            return (\n                                <div key={elem.id}\n                                    className={`${classes.dialog} + \" \" + ${elem.id === props.activeDialog && classes.active_dialog}`}\n                                    onClick={() => { props.setDialog(elem.id) }}>\n                                    <img src={elem.avatar} alt=\"ava\" />\n                                    <h3>{elem.name} {elem.last_name}</h3>\n                                </div>\n                            )\n                        })}\n                    </div>\n                </div>\n            </div>\n\n            <Messages dialogs={props.dialogs} activeDialog={props.activeDialog} \n                        conversants={props.conversants}\n                        onSubmit={props.onSubmit}/>\n\n        </div>\n    );\n}\n\nexport default Dialogs;","import React from 'react';\n\nimport Dialogs from './Dialogs';\n\nimport { getAllDialogs, sendMessage, getUsers } from '../../redux/DialogReducer';\n\nimport { connect } from 'react-redux';\nimport { withAuthRedirect } from '../../hoc/withAuthRedirect';\nimport { compose } from 'redux';\n\n\nclass DialogsContainer extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            dialogs: [],\n            conversants: [],\n            activeDialog: 1\n        }\n        this.setDialog = this.setDialog.bind(this)\n        this.onSubmit = this.onSubmit.bind(this)\n    }\n\n    onSubmit(formData) {\n        let actualMessages = this.props.dialogs.filter(elem => elem.conversantId === this.state.activeDialog)[0];\n\n        let actualDialogId = actualMessages.id;\n        actualMessages.dialogs.push({\n            id: actualMessages.dialogs.length + 1,\n            outgoing: true,\n            dialogText: formData.message\n        })\n        \n        this.props.sendMessage(actualMessages.dialogs, actualDialogId);\n    }\n\n    setDialog(conversantId) {\n        this.setState({\n            activeDialog: conversantId\n        })\n    }\n\n    refreshDialogs() {\n        this.props.getAllDialogs();\n        this.props.getUsers();\n    }\n\n    setConversants() {\n        let activeUserDialogs = this.props.dialogs.map(elem => (elem.conversantId))\n        function filterByUsers(item) {\n            for (let i = 0; i < activeUserDialogs.length; i++) {\n                if (item.id === activeUserDialogs[i]) { return true }\n            }\n        }\n        this.setState({\n            conversants: this.props.users.filter(filterByUsers),\n        })\n    }\n\n    componentDidUpdate(prevProps) {\n        if (this.props !== prevProps) {\n            this.setConversants()\n        }\n    }\n\n    componentDidMount() {\n        this.refreshDialogs();\n    }\n\n    render() {\n        console.log(this.state.activeDialog)\n        return (\n            <Dialogs\n                conversants={this.state.conversants}\n                setDialog={this.setDialog}\n                activeDialog={this.state.activeDialog}\n                dialogs={this.props.dialogs}\n                onSubmit={this.onSubmit} />\n        )\n    }\n}\n\n\nlet mapStateToProps = (state) => {\n\n    return {\n        dialogs: state.dialog.dialogs,\n        users: state.dialog.users\n    }\n}\n\n\n\nexport default compose(\n    connect(mapStateToProps, { getAllDialogs, sendMessage, getUsers }),\n    withAuthRedirect\n)(DialogsContainer);","import React from 'react';\r\nimport { Field, reduxForm } from 'redux-form'\r\nimport { inputRForm } from '../common/FormsElements/FormsElements';\r\nimport { required, maxLengthCreator } from '../../utilities/validators/validators';\r\n\r\nimport { connect } from 'react-redux';\r\nimport { login } from '../../redux/AuthReducer';\r\nimport { Redirect } from 'react-router-dom';\r\nimport classesForm from '../common/FormsElements/FormsElements.module.css'\r\nimport classes from './Login.module.css';\r\n\r\nconst LoginForm = (props) => {\r\n\r\n\r\n    return (\r\n        <form className={classes.loginForm} onSubmit={props.handleSubmit}>\r\n            <div><p>Enter login: Mike</p>and password: 1234</div>\r\n            <div><Field component={inputRForm} validate={[required]} name={\"login\"} placeholder={\"login\"}/></div>\r\n            <div><Field component={inputRForm} name={\"password\"} placeholder={\"Password\"} type={\"password\"} /></div>\r\n            <div><button>Sign In</button></div>\r\n            {props.error && <div className={classesForm.fromSummeryError}>{props.error}</div>}\r\n        </form>\r\n    )\r\n}\r\n\r\nconst Login = (props) => {\r\n\r\n    const onSubmit = (formData) => {\r\n        props.login(formData.login, formData.password, formData.rememberMe)\r\n    }\r\n\r\n    if (props.isAuth) {\r\n        return <Redirect to={'/profile'} />\r\n    }\r\n\r\n    return (\r\n        <div className={classes.formBox} >\r\n            <LoginReduxForm onSubmit={onSubmit} />\r\n            <div className={classes.usage_box}>\r\n                Usage. In this project I use My JSON Server which I wrote in my own. \r\n                You can check the following server: \r\n                 You can use this project-website in two ways:\r\n                1)\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nconst LoginReduxForm = reduxForm({ form: 'login' })(LoginForm);\r\n\r\nconst mapStateToProps = (state) => ({\r\n    isAuth: state.auth.isAuth\r\n})\r\n\r\nexport default connect(mapStateToProps, { login })(Login); ","import React from 'react';\nimport { NavLink } from 'react-router-dom';\n\nimport classes from './Header.module.css';\n\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\n\nconst Header = (props) => {\n    console.log(props.avatar)\n    return (\n        <header className={classes.header}>\n            <div className={classes.l_side}>\n                <a href=\"#\"><FontAwesomeIcon icon=\"cubes\" />Boxes</a>\n            </div>\n            <div className={classes.r_side}>\n                <div className={classes.search}>\n                    {/* <input type=\"text\" placeholder=\"Search here\" /> */}\n                    {/* <button><FontAwesomeIcon icon=\"search\" /></button> */}\n                </div>\n                <div className={classes.notifications}>\n                    {/* <FontAwesomeIcon icon=\"bell\" /> */}\n                </div>\n                <div className={classes.messages}>\n                    {/* <FontAwesomeIcon icon=\"envelope\" /> */}\n                </div>\n                <div className={classes.login_block}>\n                    {props.isAuth ?\n                        <div>\n                            <NavLink to='/profile'>{props.login}</NavLink>\n                            <button onClick={props.logout}><FontAwesomeIcon icon=\"sign-out-alt\" /></button>\n                        </div> :\n                        <NavLink to='/login'>Login</NavLink>\n                    }\n                </div>\n            </div>\n        </header>\n    );\n}\n\nexport default Header;","import React, { Component } from 'react';\nimport Header from './Header';\nimport { connect } from 'react-redux';\n\nimport { setAuthUserData, logout } from '../../redux/AuthReducer';\n\n\nclass HeaderContainer extends React.Component {\n\n    render() {\n        return (\n            <Header {...this.props} />\n        )\n    }\n}\n\nconst mapStateToProps = (state) => ({\n    isAuth: state.auth.isAuth,\n    login: state.auth.login,\n})\n\nexport default connect(mapStateToProps, { setAuthUserData, logout })(HeaderContainer);","import React, { Fragment } from 'react';\r\n\r\nimport classes from './Photos.module.css';\r\nimport plusPNG from '../../assets/images/plus.png'\r\nconst Photos = (props) => {\r\n\r\n    let activeClass = (elem) => {\r\n        if (props.album === elem) {\r\n            return (classes.active)\r\n        }\r\n    }\r\n\r\n    return (\r\n        <Fragment>\r\n            <div className={classes.sortPanel}>\r\n                {props.state.photos.albums.map((elem, index) => {\r\n                    return (\r\n                        <button\r\n                            className={classes.album + \" \" + activeClass(elem.id)}\r\n                            key={index} onClick={() => { props.setAlbum(elem.id) }}>\r\n                            <p>{elem.id}</p>\r\n                            <img src={elem.cover} alt=\"\" />\r\n                        </button>\r\n                    )\r\n                })}\r\n                <button\r\n                    className={classes.addAlbum}\r\n                    onClick={() => { \"\" }}>\r\n                    <img src={plusPNG} alt=\"\" />\r\n                </button>\r\n            </div>\r\n            <div className={classes.flexContainer}>\r\n                {props.state.photos.adress.filter(\r\n                    elem => props.album ? (elem.albumId === props.album) : elem.albumId)\r\n                    .map(elem => {\r\n                        return (<div key={elem.id} className={classes.flexItem}><img src={elem.url} alt=\"image\" /></div>)\r\n                    })}\r\n                <button\r\n                    className={classes.flexItem + \" \" + classes.addPhoto}\r\n                    onClick={() => { \"\" }}>\r\n                    <img src={plusPNG} alt=\"\" />\r\n                </button>\r\n            </div>\r\n        </Fragment>\r\n    )\r\n}\r\n\r\nexport default Photos;","import React, { Component, Fragment } from 'react';\r\n\r\nimport { connect } from 'react-redux';\r\nimport Photos from './Photos';\r\nimport { showPhoto } from '../../redux/PhotosReducer';\r\nimport Preloader from '../common/Preloader/Preloader';\r\n\r\nclass PhotosAPIComponent extends React.Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      album: null\r\n    };\r\n    this.setAlbum = this.setAlbum.bind(this)\r\n  }\r\n\r\n  componentDidMount() {\r\n    let limitOfPhoto = this.props.photos.limitOfPhoto\r\n    this.props.showPhoto(limitOfPhoto);\r\n  }\r\n\r\n  setAlbum(elem) {\r\n    if (elem === this.state.album) {\r\n      this.setState({\r\n        album: null\r\n      })\r\n    } else {\r\n      this.setState({\r\n        album: elem\r\n      });\r\n    }\r\n  }\r\n\r\n\r\n  render() {\r\n    return (\r\n      <Fragment>\r\n        {this.props.isFetching ? <Preloader /> :\r\n          <Photos state={this.props.photos}\r\n            setAlbum={this.setAlbum}\r\n            album={this.state.album} />}\r\n      </Fragment>\r\n    )\r\n  }\r\n}\r\n\r\n\r\nlet mapStateToProps = (state) => {\r\n\r\n  return {\r\n    photos: state.photos,\r\n    isFetching: state.photos.isFetching\r\n  }\r\n}\r\n\r\n\r\nexport default connect(mapStateToProps, { showPhoto })(PhotosAPIComponent);","import React from 'react';\r\nimport { connect } from 'react-redux';\r\n\r\nimport Home from './Home';\r\nimport { showPhoto } from '../../redux/PhotosReducer';\r\nimport { getUnfollowedUsers, follow } from '../../redux/UsersReducer';\r\n\r\n\r\n\r\nclass HomeContainer extends React.Component {\r\n\r\n    getProfile() {\r\n        let logUserId = this.props.logUserId;\r\n        this.props.showPhoto();\r\n        this.props.getUnfollowedUsers();\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.getProfile();\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div>\r\n                <Home photos={this.props.photos} \r\n                unfollowedUsers={this.props.unfollowedUsers}\r\n                follow={this.props.follow} \r\n                getUnfollowedUsers={this.props.getUnfollowedUsers}\r\n                isAuth={this.props.isAuth}/>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\n\r\nlet mapStateToProps = (state) => ({\r\n    logUserId: state.auth.userId,\r\n    photos: state.photos,\r\n    unfollowedUsers: state.users.users,\r\n    isAuth: state.auth.isAuth\r\n})\r\n\r\nexport default connect(mapStateToProps, { showPhoto, getUnfollowedUsers, follow })(HomeContainer);","import React, { Component, Suspense } from 'react';\nimport { connect } from 'react-redux';\nimport { withRouter } from 'react-router-dom';\nimport { compose } from 'redux';\n\nimport './App.css';\nimport Nav from './components/Nav/Nav';\nimport Home from './components/Home/Home';\nimport ProfileContainer from './components/Profile/ProfileContainer';\nimport DialogsContainer from './components/Dialogs/DialogsContainer';\nimport { Route } from 'react-router-dom';\nimport Login from './components/Login/Login';\n\nimport { library } from '@fortawesome/fontawesome-svg-core';\nimport { fab } from '@fortawesome/free-brands-svg-icons';\nimport { faCubes, faSearch, faEnvelope, faBell, faHome, faUser, faUsers, faMusic, faHeart, faCamera, faComments, faPlus, faSignOutAlt } from '@fortawesome/free-solid-svg-icons';\nimport HeaderContainer from './components/Header/HeaderContainer';\nimport { initializeAPP } from './redux/AppReducer';\nimport Preloader from './components/common/Preloader/Preloader';\nimport PhotosContainer from './components/Photos/PhotosContainer';\nimport HomeContainer from './components/Home/HomeContainer';\n\n\n\n\nconst UsersContainer = React.lazy(() => import('./components/Users/UsersContainer'));\n\nlibrary.add(fab, faCubes, faSearch, faEnvelope, faBell, faHome, faUser, faUsers, faMusic, faHeart, faCamera, faComments, faPlus, faSignOutAlt);\n\nclass App extends React.Component {\n\n  componentDidMount() {\n    this.props.initializeAPP();\n  }\n\n  render() {\n    // if (!this.props.initialized) {\n\n    //   return <div className=\"preloader_center\"><Preloader /></div>\n    // } else {\n      return (\n\n        <div className=\"app-wrapper\">\n          <HeaderContainer />\n          <Nav />\n          <div className=\"app-wrapper-content\">\n            <Route path='/home' render={() => <HomeContainer />} />\n            <Route path='/profile/:userId?' render={() => <ProfileContainer />} />\n            <Route path='/dialogs' render={() => <DialogsContainer />} />\n            <Suspense fallback={<div>Loading...</div>}><Route path='/users' render={() => <UsersContainer />} /></Suspense>\n            <Route path='/photos' render={() => <PhotosContainer />} />\n            <Route path='/login' render={() => <Login />} />\n          </div>\n        </div>\n      );\n    // }\n\n  }\n}\n\nconst mapStateToProps = (state) => ({\n  initialized: state.app.initialized\n})\n\nexport default compose(\n  withRouter,\n  connect(mapStateToProps, { initializeAPP },\n  ))(App);\n","import './index.css';\nimport store from './redux/redux-store.js';\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport {BrowserRouter} from 'react-router-dom';\nimport {Provider} from 'react-redux';\n\n    ReactDOM.render(\n        <BrowserRouter>\n            <Provider store={store}>\n            <App />\n            </Provider>\n        </BrowserRouter>\n    , document.getElementById('root'));\n\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"home_container\":\"Home_home_container__3VeUQ\",\"box\":\"Home_box__IaGNf\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"profile_info\":\"ProfileInfo_profile_info__2iOJP\",\"status\":\"ProfileInfo_status__ot44H\",\"job_info\":\"ProfileInfo_job_info__3hPg5\",\"statistic\":\"ProfileInfo_statistic__22qrT\",\"button_true\":\"ProfileInfo_button_true__h545v\",\"button_false\":\"ProfileInfo_button_false__3H0QK\",\"status_info\":\"ProfileInfo_status_info__3Iwwt\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"postBox\":\"PostWindow_postBox__1lY9s\",\"photo\":\"PostWindow_photo__1oSc7\",\"body\":\"PostWindow_body__qO1wV\",\"close_btn\":\"PostWindow_close_btn__1yIel\",\"comments_box\":\"PostWindow_comments_box__1PAEi\",\"post_info\":\"PostWindow_post_info__3VeR0\",\"post_info_no_comments\":\"PostWindow_post_info_no_comments__39liz\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"flexContainer\":\"Photos_flexContainer__1ieLT\",\"sortPanel\":\"Photos_sortPanel__2DGMz\",\"flexItem\":\"Photos_flexItem__2fF-s\",\"album\":\"Photos_album__1lh3_\",\"addAlbum\":\"Photos_addAlbum__2nH-C\",\"active\":\"Photos_active__1YDwV\",\"addPhoto\":\"Photos_addPhoto__3YsbW\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__xI_JT\",\"l_side\":\"Header_l_side__1rGva\",\"r_side\":\"Header_r_side__1vdhF\",\"search\":\"Header_search__1WbJ7\",\"login_block\":\"Header_login_block__3cVz7\"};","import React from 'react';\r\n\r\nimport preloader from '../../../assets/images/preloader.svg'\r\n\r\nconst Preloader = (props) => {\r\n    return (\r\n        <img src={preloader}/>\r\n    )\r\n}\r\n\r\nexport default Preloader;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"formControl\":\"FormsElements_formControl__3Ps8T\",\"error\":\"FormsElements_error__1O_1Y\",\"fromSummeryError\":\"FormsElements_fromSummeryError__3g3y_\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"posts_container\":\"PostsBar_posts_container__xT-op\",\"post_box\":\"PostsBar_post_box__3pVz6\",\"name_box\":\"PostsBar_name_box__21FUn\",\"data\":\"PostsBar_data__LhAI_\",\"panel_box\":\"PostsBar_panel_box__2b22U\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"users_container\":\"UsersBar_users_container__3DR4G\",\"users_box\":\"UsersBar_users_box__bjrrv\",\"user_box\":\"UsersBar_user_box__6cRhc\",\"user_box_l\":\"UsersBar_user_box_l__169LC\",\"user_info\":\"UsersBar_user_info__I7xo0\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"my_posts\":\"MyPosts_my_posts__2OmlR\",\"posts_box\":\"MyPosts_posts_box__KJlSu\",\"standart_button\":\"MyPosts_standart_button__gV-F9\",\"add_post\":\"MyPosts_add_post__3Ehrc\",\"add_post_textarea\":\"MyPosts_add_post_textarea__1BGLL\",\"input_image\":\"MyPosts_input_image__1InrE\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"panel\":\"ChangeAvatar_panel__hI9wk\",\"avatarBox\":\"ChangeAvatar_avatarBox__3vh-M\",\"category\":\"ChangeAvatar_category__3z3dy\",\"avatar\":\"ChangeAvatar_avatar__1ISwp\",\"categoryBox\":\"ChangeAvatar_categoryBox__QqyCT\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"panel\":\"FollowersList_panel__29PWm\",\"search\":\"FollowersList_search__37EFS\",\"list_item\":\"FollowersList_list_item__15wlF\",\"view_profile\":\"FollowersList_view_profile__1UBZM\"};","import { usersJsonAPI } from '../API/API-JSON';\r\n\r\nconst CHANGE_FOLLOW = 'CHANGE_FOLLOW';\r\nconst SET_USERS = 'SET_USERS';\r\nconst SET_CURRENT_PAGE = 'SET_CURRENT_PAGE';\r\nconst SET_TOTAL_COUNT = 'SET_TOTAL_COUNT';\r\nconst TOOGLE_IS_FETCHING = 'TOOGLE_IS_FETCHING';\r\nconst TOOGLE_IS_FOLLOWING_PROGRESS = 'TOOGLE_IS_FOLLOWING_PROGRESS';\r\nconst SET_UNFOLLOWED_USERS = 'SET_UNFOLLOWED_USERS';\r\n\r\n\r\nlet initialState = {\r\n    users: [],\r\n    pageSize: 8,\r\n    totalUsersCount: 0,\r\n    currentPage: 1,\r\n    isFetching: true,\r\n    followingInProgres: false\r\n};\r\n\r\nconst UsersReducer = (state = initialState, action) => {\r\n\r\n    switch (action.type) {\r\n        case CHANGE_FOLLOW:\r\n            return {\r\n                ...state,\r\n                users: state.users.map(e => {\r\n                    if (e.id === action.id && e.followed !== action.followed) {\r\n                        return (\r\n                            { ...e, followed: action.followed }\r\n                        )\r\n                    } \r\n                    return e;\r\n                })\r\n            }\r\n        case SET_USERS: {\r\n            return { ...state, users: [...action.users] }\r\n        }\r\n        case SET_UNFOLLOWED_USERS: {\r\n            return { ...state, users: [...action.users] }\r\n        }\r\n        case SET_CURRENT_PAGE: {\r\n            return {\r\n                ...state, currentPage: action.currentPage\r\n            }\r\n        }\r\n        case SET_TOTAL_COUNT: {\r\n            return {\r\n                ...state, totalUsersCount: action.totalCount\r\n            }\r\n        }\r\n        case TOOGLE_IS_FETCHING: {\r\n            return {\r\n                ...state, isFetching: action.isFetching\r\n            }\r\n        }\r\n        case TOOGLE_IS_FOLLOWING_PROGRESS: {\r\n            return {\r\n                ...state, followingInProgress: action.isFetching\r\n            }\r\n        }\r\n\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport const changeFollowSuccess = (followed, id) => ({ type: CHANGE_FOLLOW, followed, id });\r\nexport const setUsers = (users) => ({ type: SET_USERS, users });\r\nexport const setUnfollowedUsers = (users) => ({ type: SET_UNFOLLOWED_USERS, users });\r\nexport const setCurrentPage = (currentPage) => ({ type: SET_CURRENT_PAGE, currentPage });\r\nexport const setTotalCount = (totalCount) => ({ type: SET_TOTAL_COUNT, totalCount });\r\nexport const toggleIsFetching = (isFetching) => ({ type: TOOGLE_IS_FETCHING, isFetching });\r\nexport const toggleFollowingProgress = (isFetching) => ({ type: TOOGLE_IS_FOLLOWING_PROGRESS, isFetching });\r\n\r\nexport const getUsersThunkCreator = (pageSize, currentPage) => async (dispatch) => {\r\n    dispatch(setCurrentPage(currentPage));\r\n    dispatch(toggleIsFetching(true));\r\n    let data = await usersJsonAPI.getUsers(pageSize, currentPage);\r\n    dispatch(toggleIsFetching(false));\r\n    dispatch(setUsers(data));\r\n    dispatch(setTotalCount(102));\r\n}\r\nexport const getUsersOnChange = (pageSize, pageNumber) => async (dispatch) => {\r\n    dispatch(setCurrentPage(pageNumber));\r\n    dispatch(toggleIsFetching(true));\r\n    dispatch(setUsers([]));\r\n    let data = await usersJsonAPI.getUsers(pageSize, pageNumber);\r\n    dispatch(setUsers(data));\r\n    dispatch(toggleIsFetching(false));\r\n}\r\n\r\nexport const follow = (userId) => async (dispatch) => {\r\n    let data = await usersJsonAPI.getUsersFollow(userId);\r\n    dispatch(changeFollowSuccess(data.followed, data.id));\r\n}\r\n\r\nexport const unfollow = (userId) => async (dispatch) => {\r\n    let data = await usersJsonAPI.getUsersUnfollow(userId);\r\n    dispatch(changeFollowSuccess(data.followed, data.id));\r\n}\r\n\r\nexport const getUnfollowedUsers = () => async (dispatch) => {\r\n    let data = await usersJsonAPI.getUnfollowedUsers();\r\n    dispatch(setUnfollowedUsers(data));\r\n}\r\n\r\n\r\n\r\nexport default UsersReducer;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"img_box\":\"PhotoBox_img_box__3vSff\",\"profil_style\":\"PhotoBox_profil_style__1EWLe\",\"profil_photo\":\"PhotoBox_profil_photo__2Br6D\",\"changePhotoLabel\":\"PhotoBox_changePhotoLabel__1lyYh\",\"changePhotoBtn\":\"PhotoBox_changePhotoBtn__3ChAM\"};","import React, {Component} from 'react';\r\nimport { Redirect } from 'react-router-dom';\r\nimport {connect} from 'react-redux';\r\n\r\nlet mapStateToPropsForRedirect = (state) => ({\r\n    isAuth: state.auth.isAuth\r\n})\r\n\r\nexport const withAuthRedirect = (Component) => {\r\n\r\n    class RedirectComponent extends React.Component {\r\n        render() {\r\n            if (!this.props.isAuth) {\r\n                return <Redirect to='/login'/>\r\n            }\r\n            return <Component {...this.props}/>\r\n        }\r\n    }\r\n\r\n    let ConnectedAuthRedirectComponent = connect(mapStateToPropsForRedirect)(RedirectComponent)\r\n\r\n    return ConnectedAuthRedirectComponent;\r\n}\r\n\r\n\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"Post_item__PHa_V\",\"text_container\":\"Post_text_container__2Mtxk\",\"item_likes\":\"Post_item_likes__1LGO8\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"formBox\":\"Login_formBox__1rNEy\",\"loginForm\":\"Login_loginForm__FTScN\",\"usage_box\":\"Login_usage_box__145b_\"};"],"sourceRoot":""}